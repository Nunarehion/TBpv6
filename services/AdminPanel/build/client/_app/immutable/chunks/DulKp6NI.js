import{w as k,h as b,g as x,aG as R,A as C,H as F,B as H,x as O,C as I,v as U,I as E,M as w,aH as J,J as L,S as M,T as q,D as B,ao as G,aI as N,O as P,n as Y,ab as Z,aJ as $}from"./CnxLOvM0.js";import{s as j,g as z}from"./5VKP8Fpw.js";function V(a,r,s=!1){b&&x();var e=a,n=null,t=null,i=J,A=s?R:0,o=!1;const S=(l,u=!0)=>{o=!0,g(u,l)};var f=null;function p(){f!==null&&(f.lastChild.remove(),e.before(f),f=null);var l=i?n:t,u=i?t:n;l&&M(l),u&&q(u,()=>{i?t=null:n=null})}const g=(l,u)=>{if(i===(i=l))return;let h=!1;if(b){const D=C(e)===F;!!i===D&&(e=H(),O(e),I(!1),h=!0)}var m=L(),_=e;if(m&&(f=document.createDocumentFragment(),f.append(_=U())),i?n??(n=u&&E(()=>u(_))):t??(t=u&&E(()=>u(_))),m){var d=w,y=i?n:t,T=i?t:n;y&&d.skipped_effects.delete(y),T&&d.skipped_effects.add(T),d.add_callback(p)}else p();h&&I(!0)};k(()=>{o=!1,r(S),o||g(null,null)},A),b&&(e=B)}let c=!1,v=Symbol();function W(a,r,s){const e=s[r]??(s[r]={store:null,source:P(void 0),unsubscribe:N});if(e.store!==a&&!(v in s))if(e.unsubscribe(),e.store=a??null,a==null)e.source.v=void 0,e.unsubscribe=N;else{var n=!0;e.unsubscribe=j(a,t=>{n?e.source.v=t:Z(e.source,t)}),n=!1}return a&&v in s?z(a):Y(e.source)}function X(){const a={};function r(){G(()=>{for(var s in a)a[s].unsubscribe();$(a,v,{enumerable:!1,value:!0})})}return[a,r]}function ee(a){var r=c;try{return c=!1,[a(),c]}finally{c=r}}export{W as a,ee as c,V as i,X as s};
